ğŸ“Œ Overview

This project implements an ESP32-CAMâ€“based image capture and upload system designed to work as a client node in an AI-powered weapon detection framework.

The ESP32-CAM periodically captures images and uploads them to a remote AI server using an HTTP POST request. The server performs weapon detection and annotation, enabling integration with autonomous patrol or surveillance systems.

âœ¨ Features

ğŸ“¸ Image capture using ESP32-CAM

ğŸŒ Wi-Fi connectivity

ğŸš€ Periodic image upload to AI server

ğŸ§  Compatible with AI/ML weapon detection models

ğŸ”„ Configurable upload interval

ğŸ“¦ Multipart/form-data HTTP transmission

ğŸ”Œ Modular and lightweight design

ğŸ› ï¸ Hardware Requirements
Component	                 Quantity
ESP32-CAM (AI-Thinker )	            1
USB-to-TTL Programmer	            1
External Power Supply (5V)	    1
Jumper Wires	                 As required
ğŸ’» Software Requirements

Arduino IDE

ESP32 Board Support Package
...............................................................................................
Required Libraries:

#include "esp_camera.h"
#include <WiFi.h>
#include <HTTPClient.h>

...................................................................................................
Board configuration file:

#include "board_config.h"
...................................................................................................
âš™ï¸ Configuration
Wi-Fi Credentials

Update the SSID and password to match your network:

const char* ssid = "shyam";
const char* password = "shyam123";
.....................................................................................................
AI Server Endpoint

Set the server URL where the AI model is hosted:

const char* serverUrl = "http://10.216.232.228:5000/predict_annotated";


The server must accept multipart/form-data image uploads and return inference results.
....................................................................................................
Upload Interval

Images are uploaded every 10 seconds by default:

const unsigned long uploadInterval = 10000;
.......................................................................................................
ğŸ“· Camera Configuration
Parameter	Value
Frame Size	VGA
Pixel Format	JPEG
JPEG Quality	20
Frame Buffer	PSRAM
Clock Frequency	20 MHz

This configuration balances image clarity and network bandwidth.
.......................................................................................................
ğŸ”„ Program Flow

Initialize serial communication

Configure ESP32-CAM pins and camera parameters

Connect to Wi-Fi

Periodically:

Capture image

Encode as JPEG

Send to AI server using HTTP POST

Release camera buffer
...................................................................................................
ğŸ“¤ Image Upload Mechanism

Uses HTTP multipart/form-data

Image sent as:

name="image"
filename="esp32.jpg"
content-type: image/jpeg


Boundary-based payload construction

Memory-safe allocation and cleanup